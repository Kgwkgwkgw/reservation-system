define("categoryModel",function(){return eg.Class.extend(eg.Component,{construct:function(t){this.initVariable(t)},initVariable:function(){this.APIURL="/api/categories"},reqDestroy:function(t){$.ajax({method:"delete",url:this.APIURL+"/"+t,headers:{"Content-Type":"application/json"}}).done(this.reqDestroyCallback.bind(this,t))},reqDestroyCallback:function(t,i){this.trigger("destroy",t,i)},reqModify:function(t,i){$.ajax({method:"put",url:this.APIURL+"/"+t,headers:{"Content-Type":"application/json"},data:JSON.stringify({name:i})}).done(this.reqModifyCallback.bind(this,t,i))},reqModifyCallback:function(t,i,e){this.trigger("modify",t,i,e)}})}),define("categoryPresenter",[],function(){"use strict";function t(t){this.initVariable(t),this.addEventHandler(),this.addTriggerHandler()}return t.prototype.initVariable=function(t){this.$categoryList=$("._categoryList"),this.categoryItem="._item",this.name="._name",this.editInput="._editInput",this.categoryModel=t},t.prototype.addEventHandler=function(){this.$categoryList.on("click","._modify",this.modifyBtnClickHandler.bind(this)).on("click","._destroy",this.destroyBtnClickHandler.bind(this)).on("keyup",this.editInput,this.enterInputHandler.bind(this)),$(document).ajaxError(function(t,i,e,n){alert("일시적 오류가 발생하였습니다.")})},t.prototype.modifyBtnClickHandler=function(t){var i=$(t.currentTarget).parents(this.categoryItem);this.modify(i)},t.prototype.modify=function(t){if("editing"===this.getStatus(t)){if(this.isBlank(t.find(this.editInput)))return!1;this.categoryModel.reqModify(this.getId(t),t.find(this.editInput).val())}else this.setStatus(t,"editing"),this.ToggleModifyInput(t)},t.prototype.destroyBtnClickHandler=function(t){var i=$(t.currentTarget).parents(this.categoryItem);this.categoryModel.reqDestroy(this.getId(i))},t.prototype.enterInputHandler=function(t){if(13==t.which){var i=$(t.currentTarget).parents(this.categoryItem);this.modify(i)}},t.prototype.addTriggerHandler=function(){this.categoryModel.on("destroy",this.destroyDone.bind(this)),this.categoryModel.on("modify",this.modifyDone.bind(this))},t.prototype.destroyDone=function(t,i){this.$categoryList.find("[data-id="+t+"]").slideUp("slow",function(){$(this).remove()})},t.prototype.modifyDone=function(t,i,e){var n=this.$categoryList.find("[data-id="+t+"]");n.find(this.name).html(i),this.ToggleModifyInput(n),this.setStatus(n,"")},t.prototype.isBlank=function(t){return""===$.trim(t.val())&&(alert("빈값은 입력이 불가합니다."),t.focus(),!0)},t.prototype.ToggleModifyInput=function(t){t.find(this.name).toggleClass("hide"),t.find(this.editInput).toggleClass("hide").val("")},t.prototype.getId=function(t){return t.data("id")},t.prototype.setStatus=function(t,i){t.data("status",i)},t.prototype.getStatus=function(t){return t.data("status")},t}),requirejs.config({baseUrl:"/resources/js/",paths:{Handlebars:"node_modules/handlebars/dist/handlebars"}}),define("detailPresenter",function(){"use strict";function t(t){this.initVariable(t),this.addEventHandler(),this.addTriggerHandler()}return t.prototype.initVariable=function(t){this.$header=$("#header"),this.headerModifier="transparent",this.$detailContentWrapper=$("._detailContentWrapper"),this.$detailContent=this.$detailContentWrapper.find("._content"),this.detailContentModifier="close3",this.$detailHinges=this.$detailContentWrapper.find("._hinge"),this.$infoTabArea=$("._infoTabArea"),this.$infoTabs=this.$infoTabArea.find("._tab"),this.$infoContents=this.$infoTabArea.find("._content"),this.setLazyImgPosition(),this.reviewModel=t},t.prototype.addEventHandler=function(){this.$infoTabArea.on("click","._tab",this.infoTabClickListener.bind(this)),this.$detailContentWrapper.on("click","._hinge",this.hingeClickListener.bind(this)),$(window).on("scroll",this.lazyLoadingHandler.bind(this)),$(window).on("scroll",this.headerHandler.bind(this))},t.prototype.addTriggerHandler=function(){this.reviewModel.on("listArrive",this.listArriveCallback.bind(this))},t.prototype.infoTabClickListener=function(t){t.preventDefault();var i=$(t.currentTarget);this.toggleInfoTab(i),this.toggleInfoContent(i)},t.prototype.toggleInfoTab=function(t){this.$infoTabs.removeClass("active"),t.addClass("active")},t.prototype.toggleInfoContent=function(t){this.$infoContents.addClass("hide"),$(t.data("content")).removeClass("hide")},t.prototype.hingeClickListener=function(t){t.preventDefault(),this.$detailHinges.toggleClass("hide"),this.$detailContent.toggleClass(this.detailContentModifier)},t.prototype.lazyLoadingHandler=function(t){this.$lazyImg.offset().top<$(window).scrollTop()+$(window).height()+100&&this.$lazyImg.attr("src",this.$lazyImg.data("src")).removeClass("lazyImg").on("load",this.setLazyImgPosition.bind(this))},t.prototype.headerHandler=function(t){0!==$(window).scrollTop()?this.$header.removeClass(this.headerModifier):this.$header.addClass(this.headerModifier)},t.prototype.setLazyImgPosition=function(){this.$lazyImg=$(".lazyImg").eq(0)},t.prototype.listArriveCallback=function(t){0===t.commentStats.count?$(".section_review_list").addClass("hide"):t.commentStats.count<3&&$(".btn_review_more").addClass("hide")},t}),define("myreservation",["Handlebars"],function(t){"use strict";function i(i){g=$("._myReservationList"),m="._reservationItem",y=$("._emptyList"),v=$("._btnFilter"),b=$("._btnAll"),C=$("._btnSchedule"),L=$("._btnCompletion"),T=$("._btnCancellationAndRefund"),_=b,I=$("._all"),w=$("._schedule"),M=$("._completion"),k=$("._cancellationAndRefund"),H="._btnRemoveCancellation",A="._btnReservationCancel",S=$("._cancellationLayerPopup"),x="._cancel",O="._confirm",N="._close",E=i,B=t.compile($("#reservationList-asking-template").html()),U=t.compile($("#reservationList-confirm-template").html()),P=t.compile($("#reservationList-completion-template").html()),R=t.compile($("#reservationList-cancellationAndRefund-template").html()),q=t.compile($("#cancellationPopup-template").html())}function e(){b.on("click",function(t){h.call(this,t),n(),o(),a()}),C.on("click",function(t){h.call(this,t),n(),o(E.ASKING),o(E.CONFIRM),a()}),L.on("click",function(t){h.call(this,t),n(),o(E.COMPLETION),a()}),T.on("click",function(t){h.call(this,t),n(),o(E.CANCELLATION),o(E.REFUND),a()}),g.on("click",A,u),g.on("click",H,c),S.on("click",x,p),S.on("click",N,p),S.on("click",O,f)}function n(){g.empty(),y.removeClass("hide")}function o(t){t=t||"",$.ajax({url:V,data:{type:t}}).done(s)}function s(t){var i=[],e=[],n=[],o=[],s="";if(0!==t.length){for(var a=0;a<t.length;a++){var h=t[a].reservationType;h===E.ASKING?i.push(t[a]):h===E.CONFIRM?e.push(t[a]):h===E.COMPLETION?n.push(t[a]):h!==E.REFUND&&h!==E.CANCELLATION||o.push(t[a])}i.length>0&&(s+=B({reservationLists:i})),e.length>0&&(s+=U({reservationLists:e})),n.length>0&&(s+=P({reservationLists:n})),o.length>0&&(s+=R({reservationLists:o}))}r(s)}function r(t){""!==t&&(y.addClass("hide"),g.append(t))}function a(){$.ajax({url:V+"/count"}).done(function(t){I.text(t.total),w.text(t.schedule),M.text(t.completion),k.text(t.cancellationAndRefund)})}function h(t){t.preventDefault(),v.removeClass("on"),$(this).addClass("on"),_=$(this)}function c(){$.ajax({method:"delete",url:V+"/"+E.CANCELLATION}).done(d)}function l(t){$.ajax({method:"put",url:V+D+"/"+t}).done(d)}function d(){_.trigger("click")}function u(t){var i=$(this).parents(m),e=q({id:i.data("id"),name:i.data("name"),reservationDate:i.data("reservationDate")});S.html(e),S.removeClass("hide")}function p(t){t.preventDefault(),S.addClass("hide")}function f(t){p(t),l($(this).data("id"))}var g,m,y,v,b,C,L,T,_,I,w,M,k,H,A,S,x,O,N,E,B,U,P,R,q,V="/api/myreservation",D="/cancellation";return{init:function(t){i(t),e(),o(),a()}}}),define("productModel",function(){return eg.Class.extend(eg.Component,{construct:function(t){this.initVariable(t)},initVariable:function(t){this.APIURL="/api/products",this.COUNTURL="/count",this.objQuery=t||this.defaultObjQuery},defaultObjQuery:{categoryId:"",offset:0,size:10},setCategory:function(t){this.objQuery.categoryId=t},resetLimit:function(){this.objQuery.offset=0},upOffset:function(){this.objQuery.offset+=this.objQuery.size},reqGetList:function(){$.ajax({method:"get",url:this.APIURL,data:$.param(this.objQuery)}).done(this.reqGetListCallback.bind(this))},reqGetCount:function(){$.ajax({method:"get",url:this.APIURL+this.COUNTURL,data:$.param(this.objQuery)}).done(this.reqGetCountCallback.bind(this))},getMoreList:function(){this.upOffset(),this.reqGetList()},reqGetListCallback:function(t){this.trigger("listArrive",t)},reqGetCountCallback:function(t){this.trigger("countArrive",t)}})}),define("productPresenter",["productView"],function(t){"use strict";function i(t){this.initVariable(t),this.addEventHandler(),this.addTriggerHandler(),this.productModel.reqGetList(),this.productModel.reqGetCount()}return i.prototype.initVariable=function(i){this.$categoryList=$("._option_lst"),this.$categoryCount=$("._categoryCount"),this.$categoryItems=this.$categoryList.find("._item"),this.$productListBefore=$("#productListBefore"),this.$productListRear=$("#productListRear"),this.$top=$("._top"),this.productModel=i,this.productView=new t},i.prototype.addEventHandler=function(){this.$categoryList.on("click","._item",this.categoryClickListener.bind(this)),$(window).on("scroll",this.scrollListener.bind(this))},i.prototype.addTriggerHandler=function(){this.productModel.on("listArrive",this.appendToList.bind(this)),this.productModel.on("countArrive",this.editViewCount.bind(this))},i.prototype.categoryClickListener=function(t){t.preventDefault(),this.productModel.resetLimit(),this.resetList();var i=$(t.currentTarget);this.productModel.setCategory(i.data("category-id")),this.toggleCategoryView(i),this.productModel.reqGetList(),this.productModel.reqGetCount()},i.prototype.scrollListener=function(t){this.$top.offset().top<$(window).scrollTop()+$(window).height()+100&&this.productModel.getMoreList(this.appendToList.bind(this))},i.prototype.toggleCategoryView=function(t){this.$categoryItems.removeClass("active"),t.addClass("active")},i.prototype.resetList=function(){this.$productListBefore.empty(),this.$productListRear.empty()},i.prototype.editViewCount=function(t){console.log(t),console.dir(t),this.$categoryCount.html(t+"개")},i.prototype.appendToList=function(t){for(var i=Math.ceil(t.length/2),e="",n=0;n<i;n++)e+=this.productView.productListTemplate(t[n]);this.$productListBefore.append(e),e="";for(n=i;n<t.length;n++)e+=this.productView.productListTemplate(t[n]);this.$productListRear.append(e)},i}),define("productView",["Handlebars"],function(t){"use strict";function i(){this.initTemplate()}return i.prototype.initTemplate=function(){this.productListTemplate=t.compile($("#productList-template").html())},i}),define("rating",[],function(){"use strict";return eg.Class.extend(eg.Component,{construct:function(t){this.initVariable(t),this.addEventHandling()},initVariable:function(t){this.$wrapSelector=$(t),this.$btns=this.$wrapSelector.find("input[type='radio']"),this.btnModifier="checked",this.score=0},getScore:function(){return this.score},addEventHandling:function(){this.$wrapSelector.on("click","._radio",this.scoreClickHandling.bind(this))},scoreClickHandling:function(t){this.$btns.removeClass(this.btnModifier),this.score=$(t.currentTarget).val();for(var i=0;i<this.score;i++)this.$btns.eq(i).addClass(this.btnModifier);this.trigger("change",{score:this.getScore()})}})}),define("reserve",["ticket","Handlebars"],function(t,i){"use strict";function e(){y.on("keyup",a.bind(null,!1)),f.on("click",function(t){a(!1)}),$("#form").on("submit",n),$(".btn_agreement").on("click",function(t){t.preventDefault();var i=$(this),e=i.closest(".agreement").hasClass("open");i.closest(".agreement").toggleClass("open",!e),i.find("._arw").toggleClass("fn-down2",e).toggleClass("fn-up2",!e)}),$("._priceTypeArea").each(function(i,e){var n=new t("._priceTypeArea[data-price-type="+$(this).data("price-type")+"]");h.push(n),n.on("change",function(t){c=0,d=0,h.forEach(function(t){c+=t.getAmount(),d+=t.getPrice()}),l.text(c),u.text(d.toLocaleString()),a(!1)})})}function n(t){return!!a(!0)&&(""===m.val()||r(m.val(),!0))}function o(){return y.each(function(t,i){if(0===$(this).val().trim().length)return!0}),!1}function s(t){return!!b.test(t)}function r(t,i){var e=!0;return C.test(t)||(e=!1),!e&&i&&alert("이메일을 확인해주세요."),e}function a(t){p.addClass("disable");var i="",e=!0;return c<=0&&(i="1개이상 예약부탁드립니다.",e=!1),o()&&(i="필수입력사항을 입력해주세요.",e=!1),s(g.val())||(i="전화번호를 확인해주세요. 예) 010-2434-3434",e=!1),f.prop("checked")||(i="이용약관을 동의해주세요~",e=!1),t&&""!==i&&alert(i),e&&p.removeClass("disable"),e}var h,c,l,d,u,p,f,g,m,y,v,b,C;return{init:function(){h=[],c=0,l=$("._sum"),d=0,u=$("._sumPrice"),p=$("._bookingBtn"),f=$("._agree"),g=$("#tel"),m=$("#email"),y=$("._required"),v=i.compile($("#count-template").html()),b=/^\d{2,3}-\d{3,4}-\d{4}$/,C=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,e()}}}),define("reviewModel",function(){"use strict";return eg.Class.extend(eg.Component,{construct:function(t){this.initVariable(t)},initVariable:function(t){this.APIURL="/api/reviews",this.objQuery=t,this.isRequesting=!1},upOffset:function(){this.objQuery.offset+=this.objQuery.size},reqCommentList:function(){this.isRequesting||(this.isRequesting=!0,$.ajax({url:this.APIURL,data:this.objQuery}).done(this.reqCommentListCallback.bind(this)))},reqCommentListCallback:function(t){this.upOffset(),this.trigger("listArrive",t),this.isRequesting=!1}})}),define("reviewPresenter",["reviewView"],function(t){"use strict";function i(t,i){this.initVariable(t,i),this.addEventHandler(),this.addTriggerHandler(),this.reviewModel.reqCommentList()}return i.prototype.initVariable=function(i,e){this.NUM_OF_STAR=5,this.$scorePercentage=$("._scorePercentage"),this.$score=$("._score"),this.$count=$("._count"),this.$btnReviewMore=$(".btn_review_more"),this.objOption=e?this.setOption(e):this.defaultOption,this.$photoviwer=$("#photoviwer"),this.$reviewList=$("._reviewList"),this.photoviwerInner="#photoviwerInner",this.$photoviwerInner=$(this.photoviwerInner),this.commentImageFlicking,this.reviewModel=i,this.reviewView=new t},i.prototype.addEventHandler=function(t){this.objOption.isGetMoreCommentListWithScroll&&$(window).on("scroll",this.reviewModel.reqCommentList.bind(this.reviewModel)),this.$reviewList.on("click","._commentThumb",this.commentThumbClickListener.bind(this)),this.$photoviwer.on("click","._close",this.photoviewCloseListener.bind(this))},i.prototype.addTriggerHandler=function(){this.reviewModel.on("listArrive",this.reqCommentListDone.bind(this))},i.prototype.defaultOption={isGetMoreCommentListWithScroll:!1},i.prototype.setOption=function(t){return $.each(this.defaultOption,function(i,e){t.hasOwnProperty(i)||(t[i]=e)}),t},i.prototype.reqCommentListDone=function(t){t.userCommentList.length>0&&(this.makeCommentList(t.userCommentList),this.setCommentStats(t.commentStats)),this.objOption.isGetMoreCommentListWithScroll||t.commentStats.count<=3&&this.$btnReviewMore.hide()},i.prototype.makeCommentList=function(t){for(var i="",e=0;e<t.length;e++)i+=this.reviewView.reviewTemplate(t[e]);this.$reviewList.append(i)},i.prototype.setCommentStats=function(t){var i=t.averageScore.toFixed(1),e=100*i/this.NUM_OF_STAR+"%";this.$score.text(i),this.$scorePercentage.width(e),this.$count.text(t.count)},i.prototype.commentThumbClickListener=function(t){t.preventDefault(),this.$photoviwerInner.empty().append($(t.currentTarget).find("._img").clone().removeClass("hide")),this.$photoviwer.removeClass("hide"),$("body").css("overflow","hidden"),this.commentImageFlicking=new eg.Flicking(this.photoviwerInner,{circular:!0,defaultIndex:0,duration:300})},i.prototype.photoviewCloseListener=function(t){this.$photoviwer.addClass("hide"),$("body").css("overflow","auto"),this.commentImageFlicking.destroy()},i}),define("reviewView",["Handlebars"],function(t){"use strict";function i(){this.initTemplate()}return i.prototype.initTemplate=function(){this.reviewTemplate=t.compile($("#review-template").html()),t.registerHelper("roundUpToFirstPoint",function(t){return t.toFixed(1)})},i}),define("reviewWrite",["Handlebars","rating"],function(t,i){"use strict";function e(){this.initVariable(),this.addEventHandling()}return e.prototype.initVariable=function(){this.APIURL="/api/reviews",this.IMG_URL="/images",this.THUMB_MAX_COUNT=5,this.MAX_COMMENT_LENGTH=400,this.MIN_COMMENT_LENGTH=5,this.$enrollForm=$("._enrollForm"),this.$commentLabel=$("#commentLabel"),this.$commentText=$("#comment"),this.$imageInput=$("#reviewImageFileInput"),this.$thumbnailUploadWrapper=$("._uploadWrapper"),this.$thumbnailUploadList=$("._thumbnailUploadList"),this.thumbItem="._thumb",this.thumbnailUploadCount=0,this.$numOfText=$("._numOfText"),this.$score=$("._score"),this.regCheckNoWhitespace=/.*\S+.*/,this.commentThumbnailTemplate=t.compile($("#commentWrite-thumbnail-template").html()),this.rating=new i("._rating")},e.prototype.addEventHandling=function(){this.$enrollForm.on("submit",this.submitCommentHandling.bind(this)),this.$commentLabel.on("click",function(t){$(this).addClass("hide")}),this.$commentText.on("focusout",this.commentFocusOutHandling.bind(this)),this.$commentText.on("keyup",this.keyUpHandling.bind(this)),this.$imageInput.on("change",this.imageInputChangeHandling.bind(this)),this.$thumbnailUploadWrapper.on("click",".anchor",this.thumbnailDeleteHandling.bind(this)),this.rating.on("change",this.ratingChangeCallback.bind(this))},e.prototype.reqCreateImageFiles=function(t){$.ajax({url:this.APIURL+this.IMG_URL,data:t,type:"POST",contentType:!1,processData:!1}).done(this.createImageFilesDoneHandling.bind(this)).fail(this.ajaxFailHandling.bind(this)).always(this.createImageFilesAlwaysHandling.bind(this))},e.prototype.createImageFilesDoneHandling=function(t,i,e){this.thumbnailUploadCount++;for(var n="",o=0;o<t.length;o++)n+=this.commentThumbnailTemplate(t[o]);this.$thumbnailUploadList.append(n)},e.prototype.ajaxFailHandling=function(t){alert(t.responseJSON.message)},e.prototype.createImageFilesAlwaysHandling=function(){this.$imageInput.val("")},e.prototype.submitCommentHandling=function(t){this.checkCommentValidation()||t.preventDefault()},e.prototype.checkCommentValidation=function(){var t=this.$commentText.val();return this.isBlank(t)?(alert("공백만 입력하면 안돼요"),!1):!(t.length<=this.MIN_COMMENT_LENGTH)||(alert("최소 "+this.MIN_COMMENT_LENGTH+"자 이상 리뷰남겨주세요"),!1)},e.prototype.commentFocusOutHandling=function(t){var i=$(t.currentTarget).val();this.isBlank(i)&&this.$commentLabel.removeClass("hide")},e.prototype.isBlank=function(t){return!this.regCheckNoWhitespace.test(t)},e.prototype.thumbnailDeleteHandling=function(t){t.preventDefault();var i=$(t.currentTarget).closest(this.thumbItem),e=i.data("id");this.reqDeleteImageFile(i,e)},e.prototype.reqDeleteImageFile=function(t,i){$.ajax({url:this.APIURL+this.IMG_URL+"/"+i,type:"DELETE"}).done(function(i){t.remove()}).fail(this.ajaxFailHandling.bind(this))},e.prototype.imageInputChangeHandling=function(t){if(this.thumbnailUploadCount+this.$imageInput[0].files.length>this.THUMB_MAX_COUNT)return alert("이미지 등록은 최대"+this.THUMB_MAX_COUNT+"개 입니다."),!1;var i=new FormData;$.each(this.$imageInput[0].files,function(t,e){i.append("images",e)}),this.reqCreateImageFiles(i)},e.prototype.keyUpHandling=function(){var t=this.$commentText.val();t.length>this.MAX_COMMENT_LENGTH&&(alert(this.MAX_COMMENT_LENGTH+"자 초과"),t=t.substring(0,this.MAX_COMMENT_LENGTH),this.$commentText.val(t)),this.$numOfText.text(t.length)},e.prototype.ratingChangeCallback=function(t){this.$score.text(t.score),this.$score.removeClass("gray_star")},e}),define("rolling",[],function(){"use strict";return eg.Class.extend(eg.Component,{construct:function(t,i){this.initVariable(t,i),this.addEventHandler()},defaultOption:{autoSlide:!0,autoSlideSecond:2e3,circular:!0,prevBtn:"",nextBtn:"",isTouch:!1},touchStartListener:function(t){this.startX=event.changedTouches[0].pageX},touchEndListener:function(t){var i=event.changedTouches[0].pageX,e=this.startX-i;e>0&&this.sliding(),e<=0&&this.slidingBack(),this.resetAutoSlidingTimer()},setOption:function(t){return $.each(this.defaultOption,function(i,e){t.hasOwnProperty(i)||(t[i]=e)}),t},initVariable:function(t,i){this.$parentSelector=$(t),this.$parentSelector.css("will-change","transform"),this.$parentSelector.css("transition","all, 2s"),this.rollingSelector="._item",this.rollingWidth=parseInt($(this.rollingSelector).outerWidth()),this.option=i?this.setOption(i):this.defaultOption,this.size=$(t+">"+this.rollingSelector).length,this.currentX=0,this.minX=parseInt(this.rollingWidth*(this.size-1)*-1),this.intervalId,this.startX,this.currentNum=1,this.isMoving=!1},addEventHandler:function(){this.option.autoSlide&&this.autoSliding(),this.option.prevBtn&&$(this.option.prevBtn).on("click",this.prevBtnListener.bind(this)),this.option.nextBtn&&$(this.option.nextBtn).on("click",this.nextBtnListener.bind(this)),this.option.isTouch&&(this.$parentSelector.on("touchstart",this.touchStartListener.bind(this)),this.$parentSelector.on("touchend",this.touchEndListener.bind(this))),this.$parentSelector.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(t){this.isMoving=!1}.bind(this))},prevBtnListener:function(t){t.preventDefault(),this.checkCanPress()&&(this.slidingBack(),this.resetAutoSlidingTimer())},nextBtnListener:function(t){t.preventDefault(),this.checkCanPress()&&(this.sliding(),this.resetAutoSlidingTimer())},resetInterval:function(){clearInterval(this.intervalId),this.intervalId=0},resetAutoSlidingTimer:function(){this.resetInterval(),setTimeout(this.autoSliding.bind(this),2e3)},checkCanPress:function(){return!this.isMoving},checkCanSlide:function(){return this.currentX>this.minX},autoSliding:function(){this.intervalId||this.option.autoSlide&&(this.intervalId=setInterval(this.sliding.bind(this),this.option.autoSlideSecond))},sliding:function(){this.checkCanSlide()?(this.currentX-=this.rollingWidth,this.moving(this.currentX),this.currentNum++,this.slidingTrigger()):this.option.circular?(this.currentX=0,this.moving(this.currentX),this.currentNum=1,this.slidingTrigger()):this.resetInterval()},slidingBack:function(){0!==this.currentX&&(this.currentX+=this.rollingWidth,this.moving(this.currentX),this.currentNum--,this.slidingTrigger())},moving:function(t){this.isMoving=!0,this.$parentSelector.css({transform:"translate3d("+t+"px, 0px, 10px)"})},slidingTrigger:function(){this.trigger("sliding",{currentNum:this.currentNum,size:this.size})}})}),define("ticket",[],function(){"use strict";return eg.Class.extend(eg.Component,{construct:function(t){this.$priceTypeArea=$(t),this.amount=0;var i=this.$priceTypeArea.data();this.price=i.price,this.priceType=i.priceType,this.$minusBtn=this.$priceTypeArea.find(this.config.minusBtn),this.$plusBtn=this.$priceTypeArea.find(this.config.plusBtn),this.$amount=this.$priceTypeArea.find(this.config.amount),this.$priceSection=this.$priceTypeArea.find(this.config.priceSection),this.$price=this.$priceTypeArea.find(this.config.price),this.addEventHandling()},addEventHandling:function(){this.$minusBtn.on("click",this.minusBtnHandling.bind(this)),this.$plusBtn.on("click",this.plusBtnHandling.bind(this))},minusBtnHandling:function(t){t.preventDefault(),this.amount>0&&(0==--this.amount&&this.toggleClassesForView(),this.printAmountAndPrice(),this.trigger("change"))},plusBtnHandling:function(t){t.preventDefault(),1==++this.amount&&this.toggleClassesForView(),this.printAmountAndPrice(),this.trigger("change")},printAmountAndPrice:function(){this.$amount.val(this.getAmount()),this.$price.text(this.getPrice().toLocaleString())},toggleClassesForView:function(){this.$amount.toggleClass(this.config.amountModifier),this.$priceSection.toggleClass(this.config.priceSectionModifier),this.$minusBtn.toggleClass(this.config.btnModifier)},getAmount:function(){return this.amount},getPrice:function(){return this.amount*this.price},config:{minusBtn:"._minus",plusBtn:"._plus",btnModifier:"disabled",amount:"._amount",amountModifier:"disabled",priceSection:"._priceSection",priceSectionModifier:"on_color",price:"._price"}})});